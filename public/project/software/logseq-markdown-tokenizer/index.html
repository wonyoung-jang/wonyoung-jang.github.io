<!DOCTYPE html>
<html   lang="en" 
        dir="auto">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <style>
            .debug {
                display: flex;
                flex-flow: column nowrap;

                pre {
                    display: flex;
                    flex-flow: column nowrap;
                    flex: 1 1 0;
                    border: 1px solid black;
                    text-wrap: auto;
                }
            }
        </style><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="index, follow">

<title>404 Page not found | Wonyoung Jang</title>


<meta name="keywords" content="">
<meta name="description" content="Wonyoung Jang&#39;s personal website">
    
<meta name="author" content="Wonyoung Jang">

<link rel="canonical" href="http://localhost:1313/404.html" />


    <link rel="preload" href="/favicon-32x32.webp" as="image">
    <link crossorigin="anonymous" href="/assets/css/stylesheet.min.d568a50ec19b4db0e6052efbe6ed8b8811a55a93222622bbf601a8efabeb4195.css" integrity="sha256-1WilDsGbTbDmBS775u2LiBGlWpMiJiK79gGo76vrQZU=" rel="stylesheet">


<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/webp" sizes="16x16" href="http://localhost:1313/favicon-16x16.webp">
<link rel="icon" type="image/webp" sizes="32x32" href="http://localhost:1313/favicon-32x32.webp">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.webp">


<meta name="generator" content="Hugo 0.127.0">


<link rel="alternate" hreflang="en" href="http://localhost:1313/404.html">

    
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-RTMKJG4NFZ"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-RTMKJG4NFZ');
        }
      </script>
    
  


    <meta property="og:url" content="http://localhost:1313/404.html">
  <meta property="og:site_name" content="Wonyoung Jang">
  <meta property="og:title" content="404 Page not found">
  <meta property="og:description" content="Wonyoung Jang&#39;s personal website">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

    
  <meta itemprop="name" content="404 Page not found">
  <meta itemprop="description" content="Wonyoung Jang&#39;s personal website">
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="404 Page not found">
  <meta name="twitter:description" content="Wonyoung Jang&#39;s personal website">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    </head>
    
    
    <body id="top">        
        
        <header role="banner">
<nav class="component top-app-bar center small" aria-label="Top App Bar">
    
    <section class="start">
        
        <a  class="component button icon" id="site-icon"
    href="http://localhost:1313/"
    accesskey="h" 
    title="Wonyoung Jang (ALT + SHIFT + h)"><img    loading="lazy" 
                src="http://localhost:1313/favicon-32x32.webp" 
                alt="logo" 
                aria-label="logo"
                width="24"
                height="24"></a>

        
        
        <a  id="site-headline"
            class="title-medium"
            href="http://localhost:1313/">
            Wonyoung Jang
        </a>
    </section>

    
    <section class="end">
        
            <ul class="lang-switch">
            </ul>

        
        <button class="component button icon" 
            id="theme-toggle" 
            accesskey="t" 
            title="Toggle Theme (ALT + SHIFT + t)" >
        <i id="moon">dark_mode</i>
        <i id="sun">light_mode</i>
    </button>        
        
        
        <button 
  class="component button icon"
  id="random-button"
  accesskey="r"
  title="Random page (ALT + SHIFT + R)"
  onclick="navigateToRandomPage(); return false;">
  <i>ifl</i>
</button>

<script>
  function navigateToRandomPage() {
    window.location.href = "\/project\/university\/package-delivery-route-optimization\/";
  }
</script>
        
        
        <a
  class="component button icon filled-tonal"
  href="/search"
  accesskey="s"
  title="Search page (ALT + SHIFT + S)">
  <i>search</i>
</a>

    </section>
</nav>


<div class="component tabs title-medium">
    
    
    <div class="component tabs">
        
        
               
        
        
            
                <a  class="component tab"
                    href="/">
                    Home
                </a>
            
        
    
        
               
        
        
            
                <a  class="component tab"
                    href="/project/">
                    Projects
                </a>
            
        
    
        
               
        
        
            
                <a  class="component tab"
                    href="/resource/">
                    Resources
                </a>
            
        
    
        
               
        
        
            
                <a  class="component tab"
                    href="/search/">
                    Search
                </a>
            
        
    
        
    </div>
</div>


    <script>
        if (localStorage.getItem("pref-theme") === "dark") {
            document.body.classList.add('dark');
        } else if (localStorage.getItem("pref-theme") === "light") {
            document.body.classList.remove('dark')
        } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.body.classList.add('dark');
        }
    </script>
</header>

        
        <main role="main">

            
            <div class="layout content-wrapper">
                

<section class="layout page-header">

        
        <nav class="breadcrumbs label-large" aria-label="Breadcrumbs">
            <ol><li>
                            <a href="http://localhost:1313/">
                                Home
                            </a>
                        </li><li>
                            <a href="http://localhost:1313/project/">Projects</a>
                        </li><li>
                            <a href="http://localhost:1313/project/software/">Software</a>
                        </li></ol>
        </nav>    

        
        <h1 class="title">Logseq Markdown Tokenizer</h1> 

        <span class="description title-small">Estimate the cost of tokenizing markdown files for <a href="https://platform.openai.com/docs/guides/embeddings/">OpenAI&rsquo;s text-embedding models</a></span><div class="label-large"><em class='metadata' title='2024-01-13 00:00:00 +0000 UTC'><span>2024, Jan 13 - 2 min read</span></em></div><a  class="component button common elevated"
    href="https://github.com/wonyoung-jang/logseq-tokenizer"
    target="_blank" 
    rel="noopener noreferrer" 
    aria-label="View the source code on GitHubhttps://github.com/wonyoung-jang/logseq-tokenizer">
    View the source @logseq-tokenizeron GitHub
</a>
 <img    loading="lazy" 
                    class="cover-image"
                    src="http://localhost:1313/assets/logseq_tokenizer_1709673334004_0.webp" 
                    alt="Logseq Markdown Tokenizer- descriptive image of the post content"></section><article class="layout panes basic-fixedflex" id="single">
  <section class="layout pane" id="post-content"><h2 id="problem">Problem<a hidden class="anchor" aria-hidden="true" href="#problem">#</a></h2>
<ul>
<li>
<p><a href="https://logseq.com/">Logseq</a> does not have a native way to view the character count of your notes (aka pages).</p>
</li>
<li>
<p>Logseq&rsquo;s performance is a balance between the number of pages and the size of each page.</p>
</li>
<li>
<p>Logseq&rsquo;s graph is difficult to search and prune manually.</p>
</li>
</ul>
<h2 id="possible-solution">Possible solution<a hidden class="anchor" aria-hidden="true" href="#possible-solution">#</a></h2>
<p>Encode Logseq&rsquo;s graph to enable semantic search, then leverage this encoding to develop an automatic pruning tool of some kind.</p>
<h2 id="implementation">Implementation<a hidden class="anchor" aria-hidden="true" href="#implementation">#</a></h2>
<ul>
<li>
<p>If I want to enable semantic search, then I must embed my graph.</p>
</li>
<li>
<p>If I don&rsquo;t know the size of my graph or its pages, then there exists a chance that embedding my graph could be very costly.</p>
</li>
<li>
<p>If I want to tokenize all the pages in my graph, then I need to iterate through the text of each page.</p>
</li>
<li>
<p>If I have to do that anyways, then I may as well count the characters along the way.</p>
</li>
<li>
<p>If I do both, then I also increment a total counter to get a total count of characters and tokens for my graph.</p>
</li>
<li>
<p>If have the token counts, I can estimate the cost of embedding for OpenAI&rsquo;s three available <code>text-embedding</code> models.</p>
</li>
</ul>
<h2 id="outputting-the-data-as-a-csv-file">Outputting the data as a csv file<a hidden class="anchor" aria-hidden="true" href="#outputting-the-data-as-a-csv-file">#</a></h2>
<p>If I output this data as a csv, I can manipulate and format the data. For instance, with conditional formatting:</p>
<p><img alt="example_output.png" src="/assets/example_output_1710007420546_0.png"></p>
<h2 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h2>
<p>This is my answer to efficiently managing large texts within the note-taking tool <a href="https://logseq.com/">Logseq</a>, particularly when dealing with extensive book highlights and other sizable content sources, like automatic imports of highlights of large articles from Read-Later apps like <a href="https://omnivore.app/">Omnivore</a>.</p>

</section>

  <aside class="layout pane fixed-pane" id="toc"><nav class="toc" aria-label="Page Content">
    
    <h2 class="overline">
        On this page
    </h2>
    
    <div class="title">Logseq Markdown Tokenizer</div>
    
    <div id="activeIndicator" class="indicator">
    </div><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#problem">Problem</a></li>
        <li><a href="#possible-solution">Possible solution</a></li>
        <li><a href="#implementation">Implementation</a></li>
        <li><a href="#outputting-the-data-as-a-csv-file">Outputting the data as a csv file</a></li>
        <li><a href="#summary">Summary</a></li>
      </ul>
    </li>
  </ul>
</nav></nav></aside>
</article>

<section class="layout page-links"><nav id="share-links" aria-label="Share Links">
        <h5>
            Share
            <div class="divider"></div>
        </h5>

        <ul><li>
                    <a target="_blank" rel="noopener noreferrer" aria-label="shareLogseq Markdown Tokenizeron twitter"
                        href="https://twitter.com/intent/tweet/?text=Logseq%20Markdown%20Tokenizer&amp;url=http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f&amp;hashtags=">      
                        Twitter/X
                    </a>
                </li><li>
                    <a target="_blank" rel="noopener noreferrer" aria-label="shareLogseq Markdown Tokenizeron linkedin"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f&amp;title=Logseq%20Markdown%20Tokenizer&amp;summary=Logseq%20Markdown%20Tokenizer&amp;source=http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f">
                        LinkedIn
                    </a>
                </li><li>
                    <a target="_blank" rel="noopener noreferrer" aria-label="shareLogseq Markdown Tokenizeron reddit"
                        href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f&title=Logseq%20Markdown%20Tokenizer">
                    Reddit
                        </a>
                </li><li>
                    <a target="_blank" rel="noopener noreferrer" aria-label="shareLogseq Markdown Tokenizeron facebook"
                        href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f">
                    Facebook
                        </a>
                </li><li>
                    <a target="_blank" rel="noopener noreferrer" aria-label="shareLogseq Markdown Tokenizeron whatsapp"
                        href="https://api.whatsapp.com/send?text=Logseq%20Markdown%20Tokenizer%20-%20http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f">
                    WhatsApp
                        </a>
                </li><li>
                    <a target="_blank" rel="noopener noreferrer" aria-label="shareLogseq Markdown Tokenizeron telegram"
                        href="https://telegram.me/share/url?text=Logseq%20Markdown%20Tokenizer&amp;url=http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f">
                    Telegram
                        </a>
                </li><li>
                    <a target="_blank" rel="noopener noreferrer" aria-label="shareLogseq Markdown Tokenizervia email" href="mailto:?subject=Logseq%20Markdown%20Tokenizer&amp;body=http%3a%2f%2flocalhost%3a1313%2fproject%2fsoftware%2flogseq-markdown-tokenizer%2f">
                        Email
                    </a>
                </li><li>
                    <a href="javascript:window.print()" aria-label="printLogseq Markdown Tokenizer">
                        Print
                    </a>
                </li></ul>
    </nav></section><nav class="layout page-navigation" aria-label="Page Navigation"><a  class="component card filled prev"
            href="http://localhost:1313/project/university/cs-career-recommendation-chatbot/"
            accesskey="p"
            title="Previous page (ALT + SHIFT + p)">
          <span class="page-direction">
            <i>arrow_back</i>
            <label>Previous</label>
          </span>
          
          <span class="title-large">CS Career Recommendation Chatbot</span>
        </a><a  class="component card filled next"
          href="http://localhost:1313/project/university/package-delivery-route-optimization/"
          accesskey="n"
          title="Next page (ALT + SHIFT + n)">
        <span class="page-direction">
          <label>Up next</label>
          <i>arrow_forward</i>
        </span>

        <span class="title-large">Package Delivery Route Optimization</span>
      </a></nav></div>
            
            
<a  class="component button fab primary-container"
    id="top-link"
    href="#top" 
    aria-label="go to top" 
    title="Go to Top (ALT + SHIFT + g)" 
    accesskey="g">
    <i>vertical_align_top</i>
</a><script>
        var mybutton = document.getElementById("top-link");
        var scrollWrapper = document.querySelector("main");
        function handleScroll() {
            if (scrollWrapper.scrollTop > 100) {
                mybutton.style.visibility = "visible";
                mybutton.style.opacity = "1";
            } else if (window.pageYOffset > 100) {
                mybutton.style.visibility = "visible";
                mybutton.style.opacity = "1";
            } else {
                mybutton.style.visibility = "hidden";
                mybutton.style.opacity = "0";
            }
        }
        window.addEventListener("scroll", handleScroll);
        scrollWrapper.addEventListener("scroll", handleScroll);
        mybutton.addEventListener("click", function() {
            scrollWrapper.scrollTo({
                top: 0,
                behavior: "smooth"
            });
        });
    </script>
            <footer role="contentinfo">    
                


<section class="footer-links">
    <div class="footer-links-list">
        
        <span class="title-large">
            Quick links
        </span>

        
        
            <a  class=""
                href="/about/">
                About
            </a>
        
            <a  class=""
                href="/contact/">
                Contact
            </a>
        
            <a  class=""
                href="/search/">
                Search
            </a>
        
            <a  class=""
                href="/sitemap/">
                Sitemap
            </a>
        
    </div>

    <div class="footer-links-list">
        
        <span class="title-large">
            Connect
        </span>
            <a  href="https://github.com/wonyoung-jang" 
                target="_blank" 
                rel="noopener noreferrer me">
                Github
            </a>
            <a  href="https://ko-fi.com/wonyoung_jang" 
                target="_blank" 
                rel="noopener noreferrer me">
                Kofi
            </a>
            <a  href="https://wonyoungjang.org/index.xml" 
                target="_blank" 
                rel="noopener noreferrer me">
                Rss
            </a>
            <a  href="mailto:contact@wonyoungjang.org" 
                target="_blank" 
                rel="noopener noreferrer me">
                Email
            </a>
    </div>
</section>


<section class="copyright">
    <a  class="component button common with-icon"
        id="copyright-button"
        href="http://localhost:1313/">
        © 2024 Wonyoung Jang
    </a>
</section>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
    <script>
        document.getElementById("theme-toggle").addEventListener("click", () => {
            if (document.body.className.includes("dark")) {
                document.body.classList.remove('dark');
                localStorage.setItem("pref-theme", 'light');
            } else {
                document.body.classList.add('dark');
                localStorage.setItem("pref-theme", 'dark');
            }
        })
    </script></footer>
        </main><script defer>
    document.addEventListener('DOMContentLoaded', function() {
      var links = document.getElementsByTagName('a');
      var currentDomain = window.location.hostname;
      for (var i = 0; i < links.length; i++) {
        var link = links[i];
        var linkDomain = new URL(link.href).hostname;
    
        if (linkDomain === currentDomain) {
          link.classList.add('internal-link');
        } else {
          link.classList.add('external-link');
        }
      }
    });
</script></body>
</html>
