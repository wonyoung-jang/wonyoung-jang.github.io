.switch {
  --container-display: flex;
  --container-flex-flow: row nowrap;
  --container-justify-content: initial;
  --container-align-items: initial;
  --container-gap: initial;
  --container-height: var(--size-8);
  --container-width: var(--size-13);
  --container-padding: initial;

  --container-outline: 2px solid var(--color-outline);
  --container-elevation: initial;
  --container-shape: var(--shape-corner-full);
  
  --bg-color: var(--surface-container-highest);
  
  --text-color: initial;
  --icon-color: initial;

  --container-outline-hover: initial;
  --container-elevation-hover: initial;

  --container-outline-focus: initial;
  --container-elevation-focus: initial;

  --container-outline-press: initial;
  --container-elevation-press: initial;

  & .handle {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    transition: all var(--motion-duration-medium4) var(--motion-easing-emphasized);
    border-radius: var(--shape-corner-full);

    &::before {
      position: absolute;
      content: "";
    }

    & .icon-container {
      position: relative;
    }

    & i {
      position: absolute;
      height: 24px;
      width: 24px;
      left: 2px;
      top: 2px;
      font-size: var(--size-4);
    }
  }

  & .track {
    opacity: 0;
    width: 0;
    height: 0;

    &:not(:checked) + .handle {
    
      &::before {
        height: 16px;
        width: 16px;
        left: 4px;
        bottom: 6px;
        transition: all var(--motion-duration-medium4) var(--motion-easing-emphasized);
        border-radius: var(--shape-corner-full);
        background-color: var(--color-outline);
      }

      &:has(.icon-container) {
        &::before {
          height: 24px;
          width: 24px;
          left: 2px;
          bottom: 2px;
          padding: 11px;
          transition: all var(--motion-duration-medium4) var(--motion-easing-emphasized);
          border-radius: var(--shape-corner-full);
          background-color: var(--color-outline);
        }
      }

      & i {
        transition: all var(--motion-duration-medium4) var(--motion-easing-emphasized);
        
        &.close-icon {
          opacity: 1;
        }

        &.check-icon {
          opacity: 0;
        }
      }
    }

    &:checked + .handle {
      background-color: var(--color-primary);

      &::before {
        transform: translateX(20px);
        height: 24px;
        width: 24px;
        left: 2px;
        bottom: 2px;
        transition: all var(--motion-duration-medium4) var(--motion-easing-emphasized);
        border-radius: var(--shape-corner-full);
        background-color: var(--color-on-primary);
      }

      & i {
        color: var(--color-on-primary-container);
        transition: all var(--motion-duration-medium4) var(--motion-easing-emphasized);
        
        &.close-icon {
          transform: translateX(20px);
          opacity: 0;
        }
        
        &.check-icon {
          transform: translateX(20px);
          opacity: 1;
        }      
      }
    }
  }
}
