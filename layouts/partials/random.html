{{ $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
{{ $randomPage := index (shuffle $pages) 0 }}

<a href="/random" class="random-page-button" onclick="navigateToRandomPage(); return false;">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="die-icon">
    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
    <circle cx="8.5" cy="8.5" r="1.5"></circle>
    <circle cx="15.5" cy="8.5" r="1.5"></circle>
    <circle cx="8.5" cy="15.5" r="1.5"></circle>
    <circle cx="15.5" cy="15.5" r="1.5"></circle>
  </svg>
</a>

<script>
  function navigateToRandomPage() {
    window.location.href = "{{ $randomPage.RelPermalink }}";
  }
</script>